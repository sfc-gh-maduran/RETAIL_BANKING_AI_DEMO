create or replace semantic view BANKING.AUTO_LOANS_DEMO.AUTO_LOANS_SEMANTIC_VIEW
	tables (
		CUSTOMERS primary key (CUSTOMER_ID),
		CUSTOMER_ACCOUNTS primary key (ACCOUNT_ID),
		LOANS primary key (LOAN_ID),
		LOAN_APPLICATIONS primary key (APPLICATION_ID),
		PAYMENTS primary key (PAYMENT_ID),
		VEHICLES primary key (VEHICLE_ID)
	)
	relationships (
		CUSTOMERS_ACCOUNTS as CUSTOMER_ACCOUNTS(CUSTOMER_ID) references CUSTOMERS(CUSTOMER_ID),
		LOANS_ACCOUNTS as LOANS(ACCOUNT_ID) references CUSTOMER_ACCOUNTS(ACCOUNT_ID),
		LOANS_APPLICATIONS as LOANS(APPLICATION_ID) references LOAN_APPLICATIONS(APPLICATION_ID),
		CUSTOMERS_APPLICATIONS as LOAN_APPLICATIONS(CUSTOMER_ID) references CUSTOMERS(CUSTOMER_ID),
		LOANS_CUSTOMERS as LOAN_APPLICATIONS(CUSTOMER_ID) references CUSTOMERS(CUSTOMER_ID)
	)
	facts (
		LOANS.INTEREST_RATE as INTEREST_RATE with synonyms=('interest_percentage','annual_percentage_rate','apr','rate_of_interest','finance_rate','loan_rate') comment='The interest rate charged on a loan, expressed as a percentage.',
		LOANS.PRINCIPAL as PRINCIPAL with synonyms=('initial_amount','loan_amount','face_value','original_loan_amount','initial_investment','capital_sum') comment='The principal amount borrowed by a customer, representing the initial amount of the loan before any interest or fees are applied.',
		LOANS.TERM_MONTHS as TERM_MONTHS with synonyms=('loan_duration','loan_term','loan_length','repayment_period','loan_tenure','months_to_maturity') comment='The number of months over which a loan is to be repaid.',
		LOAN_APPLICATIONS.AMOUNT_REQUESTED as AMOUNT_REQUESTED with synonyms=('loan_amount','requested_loan','amount_applied','loan_value','requested_funds','applied_amount') comment='The amount of money that the applicant is requesting to borrow.',
		LOAN_APPLICATIONS.INTEREST_RATE_OFFERED as INTEREST_RATE_OFFERED with synonyms=('interest_rate_quote','offered_apr','quoted_interest_rate','proposed_interest_rate','offered_rate','interest_rate_proposed') comment='The interest rate offered to the borrower as part of the loan application, expressed as a percentage.',
		LOAN_APPLICATIONS.TERM_MONTHS as TERM_MONTHS with synonyms=('loan_duration','loan_term','loan_length','repayment_period','loan_tenure','months_to_repay') comment='The number of months over which the loan will be repaid.',
		PAYMENTS.AMOUNT_DUE as AMOUNT_DUE with synonyms=('outstanding_balance','amount_owing','amount_payable','payment_due_amount','amount_to_be_paid','unsettled_amount','pending_payment','due_amount','payable_amount') comment='The amount of payment due from a customer for a specific transaction or invoice.',
		PAYMENTS.AMOUNT_PAID as AMOUNT_PAID with synonyms=('payment_amount','paid_amount','amount_settled','payment_made','settled_amount','paid_sum') comment='The amount of payment made by a customer.',
		PAYMENTS.INTEREST_COMPONENT as INTEREST_COMPONENT with synonyms=('interest_amount','interest_payment','interest_portion','interest_charge','finance_charge','interest_fee') comment='The amount of interest paid on a loan or investment, representing the portion of the payment that is not applied to the principal amount.',
		PAYMENTS.LATE_FEE as LATE_FEE with synonyms=('late_charge','overdue_fee','penalty_amount','late_payment_fee','additional_fee','surcharge','overdue_charge') comment='The amount charged to a customer for making a payment after the due date.',
		PAYMENTS.PAST_DUE_DAYS as PAST_DUE_DAYS with synonyms=('overdue_days','days_overdue','days_past_due','delinquency_days','days_in_arrears') comment='The number of days a payment is past its due date.',
		PAYMENTS.PRINCIPAL_COMPONENT as PRINCIPAL_COMPONENT with synonyms=('principal_amount','capital_component','loan_principal','main_payment','core_payment','base_amount','primary_component','main_component') comment='The principal component of a payment, representing the amount applied towards the outstanding loan balance, excluding interest and fees.',
		VEHICLES.MILEAGE_AT_PURCHASE as MILEAGE_AT_PURCHASE with synonyms=('odometer_reading_at_purchase','initial_mileage','purchase_odometer','mileage_at_acquisition','starting_mileage','initial_odometer_reading') comment='The total mileage of the vehicle at the time of purchase.',
		VEHICLES.MODEL_YEAR as MODEL_YEAR with synonyms=('model_year','vehicle_year','car_year','production_year','manufacture_year','vehicle_age','model_age') comment='The model year of the vehicle, representing the year in which the vehicle was manufactured.',
		VEHICLES.MSRP as MSRP with synonyms=('Manufacturer Suggested Retail Price','Sticker Price','List Price','Base Price','Suggested Retail Price','Retail Price') comment='The Manufacturer''s Suggested Retail Price (MSRP) of each vehicle, representing the base price set by the manufacturer before any customizations, options, or destination fees are added.',
		VEHICLES.PURCHASE_PRICE as PURCHASE_PRICE with synonyms=('buy_price','sale_price','purchase_cost','acquisition_price','buying_price','vehicle_cost','purchase_amount') comment='The purchase price of a vehicle, representing the amount paid to acquire the vehicle.',
		VEHICLES.VEHICLE_ID as VEHICLE_ID with synonyms=('vehicle_key','vehicle_identifier','vehicle_number','vehicle_code','vehicle_unique_id','vehicle_reference_id') comment='Unique identifier for each vehicle in the fleet.'
	)
	dimensions (
		CUSTOMERS.ADDRESS_LINE1 as ADDRESS_LINE1 with synonyms=('street_address','street_number','house_number','mailing_address','residence_address','physical_address','location_address','primary_address') comment='The street address of the customer''s primary location.',
		CUSTOMERS.CITY as CITY with synonyms=('town','municipality','metropolis','urban_area','locality','settlement','burg','municipality_name') comment='The city where the customer is located.',
		CUSTOMERS.CREATED_AT as CREATED_AT with synonyms=('created_date','creation_date','creation_time','date_created','timestamp','registration_date','signup_date','joined_at','added_at') comment='Date and time when the customer account was created.',
		CUSTOMERS.CUSTOMER_ID as CUSTOMER_ID with synonyms=('customer_key','client_id','user_id','account_number','customer_number','client_number','account_id','user_number') comment='Unique identifier for each customer in the database, used to distinguish and track individual customer records.',
		CUSTOMERS.DOB as DOB with synonyms=('date_of_birth','birth_date','birthdate','birthday','dob_date') comment='Date of Birth of the customer.',
		CUSTOMERS.EMAIL as EMAIL with synonyms=('email_address','contact_email','customer_email','user_email','email_id') comment='The email address of the customer.',
		CUSTOMERS.FIRST_NAME as FIRST_NAME with synonyms=('given_name','first_name','forename','personal_name','christian_name') comment='The first name of the customer.',
		CUSTOMERS.LAST_NAME as LAST_NAME with synonyms=('surname','family_name','last_name_field','full_last_name','patronymic','family_surname') comment='The customer''s last name.',
		CUSTOMERS.PHONE as PHONE with synonyms=('telephone','mobile','cell','contact_number','phone_number') comment='The phone number associated with each customer.',
		CUSTOMERS.POSTAL_CODE as POSTAL_CODE with synonyms=('zip_code','postcode','zip','postal','mailing_code','geographic_code') comment='The postal code of the customer''s mailing address.',
		CUSTOMERS.SEGMENT as SEGMENT with synonyms=('category','group','classification','tier','section','division','subgroup','demographic') comment='Customer creditworthiness classification, categorizing customers into three segments: Prime (low credit risk), Near-Prime (moderate credit risk), and Subprime (high credit risk).',
		CUSTOMERS.STATE as STATE with synonyms=('province','region','territory','county','parish','prefecture','district','area','location','jurisdiction') comment='The two-letter abbreviation for the state where the customer resides.',
		CUSTOMER_ACCOUNTS.ACCOUNT_ID as ACCOUNT_ID with synonyms=('account_number','account_key','account_identifier','account_code','account_reference') comment='Unique identifier for a customer''s account.',
		CUSTOMER_ACCOUNTS.ACCOUNT_OPEN_DATE as ACCOUNT_OPEN_DATE with synonyms=('account_creation_date','account_start_date','date_account_opened','account_initiation_date','account_established_date') comment='Date when the customer account was opened.',
		CUSTOMER_ACCOUNTS.BRANCH_ID as BRANCH_ID with synonyms=('branch_code','location_id','office_id','department_id','regional_id','site_id','facility_id') comment='Unique identifier for the branch where the customer account is located.',
		CUSTOMER_ACCOUNTS.CUSTOMER_ID as CUSTOMER_ID with synonyms=('client_id','customer_number','account_holder_id','patron_id','user_id') comment='Unique identifier for each customer account.',
		CUSTOMER_ACCOUNTS.STATUS as STATUS with synonyms=('state','condition','situation','position','standing','account_status','account_condition','current_state') comment='The current state of the customer''s account, indicating whether it is currently active and available for use.',
		LOANS.ACCOUNT_ID as ACCOUNT_ID with synonyms=('account_number','account_no','account_identifier','account_code','account_reference') comment='Unique identifier for a customer''s account.',
		LOANS.APPLICATION_ID as APPLICATION_ID with synonyms=('app_id','loan_app_id','application_number','loan_application_id','submission_id') comment='Unique identifier for a loan application.',
		LOANS.CUSTOMER_ID as CUSTOMER_ID with synonyms=('client_id','customer_number','account_holder_id','borrower_id','client_number','patron_id') comment='Unique identifier for the customer who borrowed the loan.',
		LOANS.LOAN_ID as LOAN_ID with synonyms=('loan_number','loan_identifier','loan_key','account_loan_id','loan_reference_id','loan_unique_id') comment='Unique identifier for each loan in the system.',
		LOANS.LOAN_STATUS as LOAN_STATUS with synonyms=('loan_condition','loan_state','loan_phase','loan_position','loan_situation','loan_category','loan_stage') comment='The current status of the loan, indicating whether it is currently being repaid (Active) or has been fully repaid or defaulted (other values not listed).',
		LOANS.MATURITY_DATE as MATURITY_DATE with synonyms=('due_date','expiration_date','end_date','loan_expiration','repayment_date','termination_date','final_payment_date') comment='The date on which the loan is scheduled to be fully repaid, marking the end of the loan term.',
		LOANS.ORIGINATION_DATE as ORIGINATION_DATE with synonyms=('start_date','loan_initiation_date','loan_creation_date','loan_start','loan_begin_date','loan_commencement_date','loan_issue_date') comment='The date on which the loan was originated, marking the beginning of the loan period.',
		LOAN_APPLICATIONS.APPLICATION_ID as APPLICATION_ID with synonyms=('app_id','loan_id','application_number','request_id','submission_id','loan_request_id','application_reference') comment='Unique identifier for each loan application submitted by a customer.',
		LOAN_APPLICATIONS.CHANNEL as CHANNEL with synonyms=('medium','platform','source','origin','medium_of_submission','application_medium','submission_channel','application_source') comment='The channel through which the loan application was submitted, indicating whether the application was initiated by a car dealer, online through the company''s website, or in-person at a physical branch location.',
		LOAN_APPLICATIONS.CUSTOMER_ID as CUSTOMER_ID with synonyms=('client_id','customer_number','account_holder_id','user_id','account_number','client_number') comment='Unique identifier for the customer who submitted the loan application.',
		LOAN_APPLICATIONS.DECISION_AT as DECISION_AT with synonyms=('decision_made_at','decision_date','approved_at','approved_date','resolved_at','resolved_date','outcome_date','outcome_at','result_date','result_at') comment='The date and time when a decision was made on the loan application.',
		LOAN_APPLICATIONS.PRODUCT as PRODUCT with synonyms=('item','merchandise','goods','commodity','article','loan_type','financial_product','banking_product') comment='The type of loan product being applied for, indicating whether the loan is for a new vehicle purchase, a used vehicle purchase, or a refinancing of an existing loan.',
		LOAN_APPLICATIONS.REASON_CODE as REASON_CODE with synonyms=('decision_reason','rejection_code','approval_code','status_reason','outcome_code','result_code','explanation_code') comment='The reason why the loan application was approved or rejected based on the applicant''s credit score.',
		LOAN_APPLICATIONS.STATUS as STATUS with synonyms=('state','condition','situation','position','standing','outcome','result','decision','resolution','disposition') comment='The current state of the loan application, indicating whether it has been approved, denied, or is still pending review.',
		LOAN_APPLICATIONS.SUBMITTED_AT as SUBMITTED_AT with synonyms=('SUBMISSION_DATE','SUBMISSION_TIMESTAMP','APPLICATION_DATE','RECEIVED_AT','CREATED_AT','REQUEST_DATE','ENTRY_DATE','REGISTRATION_DATE') comment='Date and time when the loan application was submitted.',
		PAYMENTS.CUSTOMER_ID as CUSTOMER_ID with synonyms=('client_id','customer_number','account_holder_id','account_owner_id','user_id') comment='Unique identifier for the customer who made the payment.',
		PAYMENTS.LOAN_ID as LOAN_ID with synonyms=('loan_number','loan_reference','loan_identifier','account_id','credit_id','financing_id','mortgage_id') comment='Unique identifier for a loan, used to track and manage individual loan accounts.',
		PAYMENTS.PAYMENT_DATE as PAYMENT_DATE with synonyms=('payment_timestamp','transaction_date','settlement_date','payment_due_date','payment_made_date','date_paid','payment_completion_date','transaction_timestamp') comment='Date on which the payment was made.',
		PAYMENTS.PAYMENT_ID as PAYMENT_ID with synonyms=('payment_key','transaction_id','payment_reference','payment_identifier','invoice_number','payment_number','transaction_reference') comment='Unique identifier for each payment transaction.',
		PAYMENTS.PAYMENT_STATUS as PAYMENT_STATUS with synonyms=('payment_state','payment_condition','transaction_status','payment_outcome','payment_result','payment_resolution') comment='The status of a payment, indicating whether it was made on time, late, or missed.',
		VEHICLES.DEALER_ID as DEALER_ID with synonyms=('dealer_code','supplier_id','vendor_id','seller_id','retailer_id','distributor_id') comment='Unique identifier for the dealership that owns or sells the vehicle.',
		VEHICLES.LOAN_ID as LOAN_ID with synonyms=('loan_number','financing_id','credit_id','mortgage_id','financing_agreement_id','loan_agreement_number') comment='Unique identifier for a loan associated with a vehicle.',
		VEHICLES.MAKE as MAKE with synonyms=('manufacturer','brand','vehicle_brand','car_maker','auto_maker','vehicle_manufacturer') comment='The make of the vehicle, representing the manufacturer or brand of the vehicle.',
		VEHICLES.MODEL as MODEL with synonyms=('car_model','vehicle_type','make_model','auto_model','vehicle_make','car_type','automobile_model') comment='The vehicle model, which represents the specific make and model of a vehicle, such as a car, truck, or SUV, as designated by the manufacturer.',
		VEHICLES.VIN as VIN with synonyms=('vehicle_identification_number','vehicle_id_number','vehicle_serial_number','chassis_number','vehicle_code') comment='Unique Vehicle Identification Number (VIN) assigned to each vehicle by the manufacturer, used to identify and track individual vehicles.'
	)
	metrics (
		LOANS.LOAN_COUNT as COUNT(LOAN_ID) with synonyms=('number_of_loans','loan_volume','total_loans','loan_quantity','count_of_loans') comment='The total number of loans taken out by a customer.'
	)
	comment='Semantic model for Auto Loans chatbot (customers, loans, applications, payments, vehicles, accounts)'
	with extension (CA='{"tables":[{"name":"CUSTOMERS","dimensions":[{"name":"ADDRESS_LINE1","sample_values":["12 Oak St","99 Pine Ave","77 Maple Dr"]},{"name":"CITY","sample_values":["Austin","Phoenix","Denver"]},{"name":"CUSTOMER_ID","sample_values":["1001","1002","1003"]},{"name":"EMAIL","sample_values":["ava.johnson@example.com","ben.martinez@example.com","cara.lee@example.com"]},{"name":"FIRST_NAME","sample_values":["Ava","Ben","Cara"]},{"name":"LAST_NAME","sample_values":["Johnson","Martinez","Lee"]},{"name":"PHONE","sample_values":["555-111-0001","555-111-0002","555-111-0003"]},{"name":"POSTAL_CODE","sample_values":["73301","85001","80014"]},{"name":"SEGMENT","sample_values":["Prime","Subprime","Near-Prime"]},{"name":"STATE","sample_values":["TX","AZ","CO"]}],"time_dimensions":[{"name":"CREATED_AT","sample_values":["2025-08-28T13:25:32.184+0000"]},{"name":"DOB","sample_values":["1987-03-14","1991-07-22","1983-12-03"]}]},{"name":"CUSTOMER_ACCOUNTS","dimensions":[{"name":"ACCOUNT_ID","sample_values":["20001","20002","20003"]},{"name":"BRANCH_ID","sample_values":["BR001","BR002","BR003"]},{"name":"CUSTOMER_ID","sample_values":["1001","1002","1003"]},{"name":"STATUS","sample_values":["Active"]}],"time_dimensions":[{"name":"ACCOUNT_OPEN_DATE","sample_values":["2021-01-15","2022-05-03","2020-08-24"]}]},{"name":"LOANS","dimensions":[{"name":"ACCOUNT_ID","sample_values":["20001","20002","20003"]},{"name":"APPLICATION_ID","sample_values":["30001","30002","30003"]},{"name":"CUSTOMER_ID","sample_values":["1001","1002","1003"]},{"name":"LOAN_ID","sample_values":["40001","40002","40003"]},{"name":"LOAN_STATUS","sample_values":["Active"]}],"facts":[{"name":"INTEREST_RATE","sample_values":["4.250","7.750","5.490"]},{"name":"PRINCIPAL","sample_values":["35000.00","18000.00","22000.00"]},{"name":"TERM_MONTHS","sample_values":["72","60","48"]}],"metrics":[{"name":"LOAN_COUNT"}],"time_dimensions":[{"name":"MATURITY_DATE","sample_values":["2029-11-10","2029-01-25","2028-03-12"]},{"name":"ORIGINATION_DATE","sample_values":["2023-11-10","2024-01-25","2024-03-12"]}]},{"name":"LOAN_APPLICATIONS","dimensions":[{"name":"APPLICATION_ID","sample_values":["30001","30002","30003"]},{"name":"CHANNEL","sample_values":["Dealer","Online","Branch"]},{"name":"CUSTOMER_ID","sample_values":["1001","1002","1003"]},{"name":"PRODUCT","sample_values":["New Auto","Used Auto","Refinance"]},{"name":"REASON_CODE","sample_values":["CreditScore"]},{"name":"STATUS","sample_values":["Approved","Denied","Pending"]}],"facts":[{"name":"AMOUNT_REQUESTED","sample_values":["35000.00","18000.00","22000.00"]},{"name":"INTEREST_RATE_OFFERED","sample_values":["4.250","7.750","5.490"]},{"name":"TERM_MONTHS","sample_values":["72","60","48"]}],"time_dimensions":[{"name":"DECISION_AT","sample_values":["2023-11-02T15:30:00.000+0000","2024-01-18T14:10:00.000+0000","2024-03-05T16:05:00.000+0000"]},{"name":"SUBMITTED_AT","sample_values":["2023-11-02T10:15:00.000+0000","2024-01-18T09:05:00.000+0000","2024-03-05T13:20:00.000+0000"]}]},{"name":"PAYMENTS","dimensions":[{"name":"CUSTOMER_ID","sample_values":["1001","1002","1003"]},{"name":"LOAN_ID","sample_values":["40001","40002","40003"]},{"name":"PAYMENT_ID","sample_values":["60001","60002","60003"]},{"name":"PAYMENT_STATUS","sample_values":["OnTime","Late","Missed"]}],"facts":[{"name":"AMOUNT_DUE","sample_values":["550.00","400.00","520.00"]},{"name":"AMOUNT_PAID","sample_values":["550.00","560.00","400.00"]},{"name":"INTEREST_COMPONENT","sample_values":["130.00","128.00","125.00"]},{"name":"LATE_FEE","sample_values":["0.00","10.00"]},{"name":"PAST_DUE_DAYS","sample_values":["0","1","5"]},{"name":"PRINCIPAL_COMPONENT","sample_values":["420.00","422.00","310.00"]}],"time_dimensions":[{"name":"PAYMENT_DATE","sample_values":["2023-12-15","2024-01-15","2024-02-16"]}]},{"name":"VEHICLES","dimensions":[{"name":"DEALER_ID","sample_values":["DLR-TX-001","DLR-AZ-014","DLR-CO-207"]},{"name":"LOAN_ID","sample_values":["40001","40002","40003"]},{"name":"MAKE","sample_values":["Ford","Toyota","Honda"]},{"name":"MODEL","sample_values":["F-150","Camry","Civic"]},{"name":"VIN","sample_values":["1FTFW1EF1EFA12345","2C4RC1BG0ERB67890","3FA6P0H72FRG45678"]}],"facts":[{"name":"MILEAGE_AT_PURCHASE","sample_values":["12","24000","19000"]},{"name":"MODEL_YEAR","sample_values":["2023","2021","2020"]},{"name":"MSRP","sample_values":["54000.00","30000.00","25000.00"]},{"name":"PURCHASE_PRICE","sample_values":["38000.00","18500.00","21000.00"]},{"name":"VEHICLE_ID","sample_values":["50001","50002","50003"]}]}],"relationships":[{"name":"CUSTOMERS_ACCOUNTS"},{"name":"LOANS_ACCOUNTS"},{"name":"LOANS_APPLICATIONS"},{"name":"CUSTOMERS_APPLICATIONS"},{"name":"LOANS_CUSTOMERS"}],"verified_queries":[{"name":"How many auto loans were originated by month and average interest rate?","question":"How many auto loans were originated by month and average interest rate?","sql":"SELECT\\n  DATE_TRUNC(''MONTH'', origination_date) AS month,\\n  COUNT(loan_id) AS num_loans,\\n  AVG(interest_rate) AS avg_interest_rate\\nFROM\\n  loans\\nGROUP BY\\n  DATE_TRUNC(''MONTH'', origination_date)\\nORDER BY\\n  month DESC NULLS LAST","use_as_onboarding_question":false,"verified_by":"Marie Duran","verified_at":1756413221}],"module_custom_instructions":{"question_categorization":"Reject all questions asking about users. Direct users to their admin","sql_generation":"Ensure that all numeric calculations are rounded to the nearest 2 decimals"}}');

